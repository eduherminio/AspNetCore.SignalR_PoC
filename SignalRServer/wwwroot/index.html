<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Real Time Vehicle Updates</title>
	<script src="/lib/signalr.min.js"></script>
</head>
<body>
	<div id="Title">Real Time Vehicle Updates</div>
	<script>
		alert("App started");
        var connection = new signalR.HubConnection('/RealTimeVehicles');
		connection.start();

        connection.on('SendVehicleUpdate', function (RealTimeVehicle) {
            var formattedInfo= "(" + RealTimeVehicle.position.lat + ", " + RealTimeVehicle.position.lng + ")" + "  ===> Vehicle " + RealTimeVehicle.appId;
			console.log(formattedInfo);
			document.getElementById('Position').innerHTML = formattedInfo;
		});
		connection.on('MemberJoined', function (str) {
			alert(str);
		});
		connection.on('MemberLeft', function (str) {
			alert(str);
		});
	</script>
	<div id="Position"></div>
</body>
</html>